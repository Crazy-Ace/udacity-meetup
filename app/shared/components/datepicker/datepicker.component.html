<input
  id="{{field.id}}"
  type="text"
  [formControl]="control"
  (focus)="showDatepicker = true; updateField('focused', true)"
  (blur)="showDatepicker = true; onBlur()"
  (input)="onInput($event)"
  tabindex="{{tabIndex}}"
  placeholder="">
<datepicker
  #datepickerElement
  *ngIf="showDatepicker"
  class="popup"
  id="{{field.id}}-datepicker"
  name="{{field.id}}-datepicker"
  [(ngModel)]="dateModel"
  (selectionDone)="onDatepickerSelection($event)"></datepicker>